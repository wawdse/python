<div class="row py-5 justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
        <h1 class="text-center mb-5">{{title}}</h1>
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane"
                    type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">클러스터수</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane"
                    type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">그래프</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact-tab-pane"
                    type="button" role="tab" aria-controls="contact-tab-pane" aria-selected="false">데이터</button>
            </li>
        </ul>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active p-3" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab"
                tabindex="0">
                <img src="/kmeans/cluster" width="100%">
            </div>
            <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
                <div class="row p-3 justify-content-end">
                    <div class="col-6">
                        <div class="input-group">
                            <select id="no" class="form-select">
                                <option>2개</option>
                                <option>3개</option>
                                <option>4개</option>
                                <option>5개</option>
                            </select>
                            <button id="btn" class="btn btn-success">그래프출력</button>
                        </div>
                    </div>
                    <div class="mt-2">
                        <img id="graph" src="http://placehold.co/500x300" width="100%">
                    </div>
                </div>
            </div>
            <div class="tab-pane fade p-3" id="contact-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">
<div class="row p-3 justify-content-end">
                    <div class="col-6">
                        <div class="input-group">
                            <select id="no2" class="form-select">
                                <option>2개</option>
                                <option>3개</option>
                                <option>4개</option>
                                <option>5개</option>
                            </select>
                            <button id="btn2" class="btn btn-success">Cluster 계산</button>
                        </div>
                    </div>
                    <div class="mt-2">
                        <div id="result">{{table|safe}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $("#btn").on("click", function(){
        let no = $("#no").val();
        no = no.replace('개', '');
        $("#graph").attr("src", `/kmeans/graph?no=${no}`)
    });

    $("#btn2").on("click", function(){
        let no = $("#no2").val();
        no = no.replace('개', '');
        $.ajax({
            type:"get",
            url:"/kmeans/data",
            data:{no},
            success:function(data){
                console.log(data.table);
                $("#result").html(data.table);
            }
        });
    })
</script>

<!-- alt +shift + f 자동정렬 -->